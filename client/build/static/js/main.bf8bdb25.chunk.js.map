{"version":3,"sources":["components/Navbar/Navbar.module.scss","components/Home/Home.module.scss","features/loginState/LoginSlice.js","app/store.js","app/axiosInterceptor.js","components/Navbar/Navbar.js","components/Home/Home.js","components/LoginForm/LoginForm.js","components/RegisterForm/RegisterForm.js","components/Logout/Logout.js","App.js","styles/GlobalStyle.js","index.js"],"names":["module","exports","initialState","name","Cookies","get","loggedIn","email","loginSlice","createSlice","reducers","update","state","actions","selectLoggedIn","login","selectName","store","configureStore","reducer","loginReducer","axiosApiInstance","axios","create","withCredentials","interceptors","response","use","dispatch","data","error","request","message","Navbar","className","styles","navbar","to","useSelector","Home","home","FormWrapper","styled","form","SubmitButton","button","props","theme","main","InputField","input","H2","h2","LoginForm","useState","setEmail","password","setPassword","loginMessage","setLoginMessage","e","a","preventDefault","post","handleChange","target","value","htmlFor","id","onChange","type","onClick","RegisterForm","setName","registerMessage","setRegisterMessage","Logout","logoutMessage","setLogoutMessage","useEffect","handleLogout","App","useQuery","retry","path","exact","colors","powderWhite","persianGreen","lightBlue","onyx","fonts","fontSize","fontSizes","small","medium","large","GlobalStyle","children","queryClient","QueryClient","ReactDOM","render","StrictMode","QueryClientProvider","client","contextSharing","document","getElementById"],"mappings":"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","file":"static/js/main.bf8bdb25.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__1WE_a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"Home_home__3G4Yd\"};","import { createSlice } from \"@reduxjs/toolkit\";\r\nimport Cookies from \"js-cookie\";\r\nconst initialState = {\r\n  name: Cookies.get(\"name\"),\r\n  loggedIn: Cookies.get(\"loggedIn\"),\r\n  email: Cookies.get(\"email\"),\r\n};\r\n\r\nexport const loginSlice = createSlice({\r\n  name: \"login\",\r\n  initialState,\r\n  reducers: {\r\n    update: (state) => {\r\n      state.name = Cookies.get(\"name\");\r\n      state.loggedIn = Cookies.get(\"loggedIn\");\r\n      state.email = Cookies.get(\"email\");\r\n    },\r\n  },\r\n});\r\n\r\nexport const { update } = loginSlice.actions;\r\n\r\nexport const selectLoggedIn = (state) => state.login.loggedIn;\r\nexport const selectName = (state) => state.login.name;\r\nexport const selectEmail = (state) => state.login.email;\r\n\r\nexport default loginSlice.reducer;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport loginReducer from \"../features/loginState/LoginSlice\";\n\nexport const store = configureStore({\n  reducer: {\n    login: loginReducer,\n  },\n});\n","import axios from \"axios\";\r\nimport { store } from \"./store\";\r\nimport { update } from \"../features/loginState/LoginSlice\";\r\n\r\nconst axiosApiInstance = axios.create({ withCredentials: true });\r\naxiosApiInstance.interceptors.response.use(\r\n  (response) => {\r\n    store.dispatch(update());\r\n    return response.data;\r\n  },\r\n  (error) => {\r\n    store.dispatch(update());\r\n    if (error.response) throw error.response.data;\r\n    if (error.request) throw error.request;\r\n    throw error.message;\r\n  }\r\n);\r\n\r\nexport default axiosApiInstance;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { selectLoggedIn } from \"../../features/loginState/LoginSlice\";\r\n\r\nimport styles from \"./Navbar.module.scss\";\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className={styles.navbar}>\r\n      <Link to=\"/\">Home</Link>\r\n\r\n      {useSelector(selectLoggedIn) ? (\r\n        <Link to=\"/logout\">Logout</Link>\r\n      ) : (\r\n        <>\r\n          <Link to=\"/register\">Register</Link>\r\n          <Link to=\"/login\">Login</Link>\r\n        </>\r\n      )}\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React from \"react\";\r\nimport styles from \"./Home.module.scss\";\r\n\r\nimport { useSelector } from \"react-redux\";\r\nimport { selectLoggedIn, selectName } from \"../../features/loginState/LoginSlice\";\r\nconst Home = () => {\r\n  const name = useSelector(selectName);\r\n  const loggedIn = useSelector(selectLoggedIn);\r\n  return (\r\n    <div className={styles.home}>\r\n      <h2>Home Page</h2>\r\n      {loggedIn && <h3>hello {name}</h3>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport axiosApiInstance from \"../../app/axiosInterceptor\";\r\n\r\nconst FormWrapper = styled.form`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  margin: auto;\r\n  width: 50%;\r\n  margin: auto;\r\n  margin-top: 3rem;\r\n`;\r\nconst SubmitButton = styled.button`\r\n  font-size: 1em;\r\n  margin: 1em;\r\n  padding: 0.25em 1em;\r\n  border-radius: 3px;\r\n  color: ${(props) => props.theme.main};\r\n`;\r\nconst InputField = styled.input`\r\n  padding: 0.5rem;\r\n  margin-top: 0rem;\r\n  margin-bottom: 1rem;\r\n  width: 50ch;\r\n`;\r\nconst H2 = styled.h2`\r\n  margin: 0;\r\n`;\r\n\r\nconst LoginForm = () => {\r\n  const [email, setEmail] = useState(\"Inbar.weinberg@gmail.com\");\r\n  const [password, setPassword] = useState(\"123\");\r\n  const [loginMessage, setLoginMessage] = useState(\"not logged in\");\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setLoginMessage(\r\n      await axiosApiInstance.post(\"/users/login\", { email, password })\r\n    );\r\n  }\r\n\r\n  const handleChange = ({ target }) => {\r\n    switch (target.name) {\r\n      case \"Email\":\r\n        setEmail(target.value);\r\n        break;\r\n      case \"Password\":\r\n        setPassword(target.value);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <FormWrapper>\r\n        <label htmlFor=\"email\">\r\n          <H2>Email (unique):</H2>{\" \"}\r\n        </label>\r\n        <InputField\r\n          id=\"email\"\r\n          value={email}\r\n          onChange={handleChange}\r\n          name=\"Email\"\r\n        />\r\n        <label htmlFor=\"password\">\r\n          <H2>Password:</H2>\r\n        </label>\r\n        <InputField\r\n          id=\"password\"\r\n          type=\"password\"\r\n          value={password}\r\n          onChange={handleChange}\r\n          name=\"Password\"\r\n        />{\" \"}\r\n        <SubmitButton type=\"submit\" onClick={handleSubmit}>\r\n          Login\r\n        </SubmitButton>\r\n        {loginMessage && <p>{loginMessage}</p>}\r\n      </FormWrapper>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport axiosApiInstance from \"../../app/axiosInterceptor\";\r\n\r\nconst FormWrapper = styled.form`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  margin: auto;\r\n  width: 50%;\r\n  max-width: 150ch;\r\n  margin-top: 3rem;\r\n  border-bottom: 1px solid black;\r\n`;\r\nconst SubmitButton = styled.button`\r\n  font-size: 1em;\r\n  margin: 1em;\r\n  padding: 0.25em 1em;\r\n  border-radius: 3px;\r\n  color: ${(props) => props.theme.main};\r\n`;\r\nconst InputField = styled.input`\r\n  padding: 0.5rem;\r\n  margin-top: 0rem;\r\n  margin-bottom: 2rem;\r\n  width: 50ch;\r\n`;\r\nconst H2 = styled.h2`\r\n  margin: 0;\r\n`;\r\n\r\nconst RegisterForm = () => {\r\n  const [email, setEmail] = useState(\"Inbar.weinberg@gmail.com\");\r\n  const [password, setPassword] = useState(\"123\");\r\n  const [name, setName] = useState(\"inbar\");\r\n  const [registerMessage, setRegisterMessage] = useState();\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setRegisterMessage(\r\n      await axiosApiInstance.post(\"/users/register\", { name, email, password })\r\n    );\r\n  }\r\n\r\n  const handleChange = ({ target }) => {\r\n    switch (target.name) {\r\n      case \"Email\":\r\n        setEmail(target.value);\r\n        break;\r\n      case \"Password\":\r\n        setPassword(target.value);\r\n        break;\r\n      case \"Name\":\r\n        setName(target.value);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <FormWrapper>\r\n      <label htmlFor=\"name\">\r\n        <H2>Name:</H2>\r\n      </label>\r\n      <InputField id=\"name\" value={name} onChange={handleChange} name=\"Name\" />\r\n\r\n      <label htmlFor=\"email\">\r\n        <H2>Email (unique):</H2>{\" \"}\r\n      </label>\r\n      <InputField\r\n        id=\"email\"\r\n        value={email}\r\n        onChange={handleChange}\r\n        name=\"Email\"\r\n      />\r\n\r\n      <label htmlFor=\"password\">\r\n        <H2>Password:</H2>\r\n      </label>\r\n      <InputField\r\n        id=\"password\"\r\n        type=\"password\"\r\n        value={password}\r\n        onChange={handleChange}\r\n        name=\"Password\"\r\n      />\r\n      <SubmitButton type=\"submit\" onClick={handleSubmit}>\r\n        Register\r\n      </SubmitButton>\r\n      {registerMessage && <p>{registerMessage}</p>}\r\n    </FormWrapper>\r\n  );\r\n};\r\n\r\nexport default RegisterForm;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axiosApiInstance from \"../../app/axiosInterceptor\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst Logout = () => {\r\n  const [logoutMessage, setLogoutMessage] = useState();\r\n  useEffect(() => {\r\n    handleLogout();\r\n    async function handleLogout() {\r\n      setLogoutMessage(await axiosApiInstance.post(\"/users/logout\"));\r\n    }\r\n  }, [logoutMessage]);\r\n\r\n  return <div>{logoutMessage ?? <Redirect to={\"/\"} />}</div>;\r\n};\r\n\r\nexport default Logout;\r\n","import React from \"react\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\nimport { useQuery } from \"react-query\";\nimport axiosApiInstance from \"./app/axiosInterceptor\";\n\nimport Navbar from \"./components/Navbar/Navbar\";\nimport Home from \"./components/Home/Home\";\nimport LoginForm from \"./components/LoginForm/LoginForm\";\nimport RegisterForm from \"./components/RegisterForm/RegisterForm\";\nimport Logout from \"./components/Logout/Logout\";\n\nimport { useSelector } from \"react-redux\";\nimport { selectLoggedIn } from \"./features/loginState/LoginSlice\";\n\nfunction App() {\n  useQuery(\n    \"authorization\",\n    async () => {\n      await axiosApiInstance.get(\"/authorization\");\n    },\n    { retry: 1 }\n  );\n\n  return (\n    <>\n      <Navbar />\n      <Switch>\n        <Route path=\"/\" exact>\n          <Home />\n        </Route>\n        <Route path=\"/register\" exact>\n          {useSelector(selectLoggedIn) ? <Redirect to=\"/\" /> : <RegisterForm />}\n        </Route>\n        <Route path=\"/login\" exact>\n          {useSelector(selectLoggedIn) ? <Redirect to=\"/\" /> : <LoginForm />}\n        </Route>\n        <Route path=\"/logout\" exact>\n          <Logout />\n        </Route>\n        <Redirect to=\"/\" />\n      </Switch>\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\r\nimport { ThemeProvider } from \"styled-components\";\r\n\r\nconst theme = {\r\n  main: \"red\",\r\n  colors: {\r\n    powderWhite: \"#FFFDF9\",\r\n    persianGreen: \"#06B49A\",\r\n    lightBlue: \"#AFDBD2\",\r\n    onyx: \"#36313D\",\r\n  },\r\n  fonts: [\"sans-serif\", \"Roboto\"],\r\n  fontSize: \"1.2rem\",\r\n  fontSizes: {\r\n    small: \"1em\",\r\n    medium: \"2em\",\r\n    large: \"3em\",\r\n  },\r\n};\r\n\r\nconst GlobalStyle = ({ children }) => {\r\n  return <ThemeProvider theme={theme}>{children}</ThemeProvider>;\r\n};\r\n\r\nexport default GlobalStyle;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nimport { store } from \"./app/store\";\nimport { Provider } from \"react-redux\";\nimport GlobalStyle from \"./styles/GlobalStyle\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport \"./styles/Global.module.scss\";\n\nimport { QueryClient, QueryClientProvider } from \"react-query\";\nconst queryClient = new QueryClient();\n\nReactDOM.render(\n  <React.StrictMode>\n    <QueryClientProvider client={queryClient} contextSharing={true}>\n      <GlobalStyle>\n        <Provider store={store}>\n          <Router>\n            <App />\n          </Router>\n        </Provider>\n      </GlobalStyle>\n    </QueryClientProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}